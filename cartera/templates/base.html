<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}KtApp{% endblock %}</title>
  <style>
    :root{
      --bg:#111; --fg:#fff; --muted:#bbb; --card:#1b1b1b;
      --ok:#2E7D32; --warn:#F57C00; --accent:#FFB300; --line:#222;
    }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--fg);
         font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
    a{color:inherit;text-decoration:none}
    .container{max-width:1000px;margin:0 auto;padding:16px}
    .topbar{position:sticky;top:0;z-index:5;background:#0008;
            backdrop-filter:blur(6px);border-bottom:1px solid var(--line)}
    .topbar .wrap{display:flex;gap:8px;align-items:center;justify-content:space-between;padding:10px 16px}
    .brand{font-weight:800;letter-spacing:.3px}
    .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
    .right{margin-left:auto}
    .btn{display:inline-block;padding:10px 14px;border-radius:12px;background:var(--accent);
         color:#000;font-weight:700;border:none;cursor:pointer}
    .btn.alt{background:#333;color:#fff}
    .btn.ok{background:var(--ok);color:#fff}
    .btn.warn{background:var(--warn);color:#000}
    .card{background:var(--card);border:1px solid var(--line);border-radius:16px;padding:12px}
    .grid{display:grid;gap:12px}
    @media(min-width:900px){.grid.cols-2{grid-template-columns:1fr 1fr}}
    table{width:100%;border-collapse:collapse}
    th,td{padding:10px;border-bottom:1px solid #2a2a2a}
    th{text-align:left;color:var(--muted);font-weight:600}
    .pill{display:inline-block;padding:4px 8px;border-radius:999px;font-size:12px}
    .pill.ok{background:#1b3e24;color:#9be29b}
    .pill.warn{background:#3a2a12;color:#ffc77a}
    .input{width:100%;padding:10px;border-radius:12px;border:1px solid #333;background:#121212;color:#fff}
    .flash{background:#173; border:1px solid #285; color:#cfe; padding:10px; border-radius:10px;}
    .flash.warn{background:#432; border-color:#a55; color:#fee;}
  </style>
  {% block extra_css %}{% endblock %}
</head>
<body>
  <div class="topbar">
    <div class="wrap">
      <div class="brand">KtApp</div>
      <div class="row">
        {% if user.is_authenticated %}
          <a class="btn alt" href="{% url 'cartera:clientes_list' %}">Clientes</a>
          <a class="btn" href="{% url 'cartera:tx_create' %}">Nueva transacci√≥n</a>
          <a class="btn alt" href="{% url 'logout' %}">Salir</a>
        {% else %}
          <a class="btn" href="{% url 'login' %}">Entrar</a>
        {% endif %}
      </div>
    </div>
  </div>

  <div class="container">
    {% if messages %}
      {% for m in messages %}
        <div class="card" role="alert">{{ m }}</div>
      {% endfor %}
    {% endif %}

    {% block content %}{% endblock %}
  </div>

  {% block extra_js %}{% endblock %}
</body>
</html>
